(this["webpackJsonpreact-parser"]=this["webpackJsonpreact-parser"]||[]).push([[0],{105:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(55),i=n.n(c),s=(n(70),n(71),n(7)),u=n.n(s),o=n(20),l=n(56),d=n(57),f=n(64),h=n(63),j=n(117),p=n(73),v=function(e){var t=[];return p.parseString(e,(function(e,n){var r=n["kml:kml"]["kml:Document"][0]["kml:ExtendedData"][0]["dwd:ProductDefinition"][0]["dwd:ForecastTimeSteps"][0]["dwd:TimeStep"],a=n["kml:kml"]["kml:Document"][0]["kml:Placemark"][0]["kml:ExtendedData"][0]["dwd:Forecast"],c=[];a.forEach((function(e,t){var n=e["dwd:value"][0].split(/\s+/).filter((function(e){return""!==e}));c.push([e.$["dwd:elementName"],n])})),r.forEach((function(e,n){var r={},a={};r.date=e,c.forEach((function(e){a[e[0]]=e[1][n]})),r.values=a,t.push(r)}))})),t},b=n(1),m=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this,e)).showFile=function(){var e=Object(o.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),(n=new FileReader).onload=function(){var e=Object(o.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.result,a=v(n),r.setState({data:a,filed:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsText(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.render=function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h2",{children:"Convertisseur Kml to JS"}),Object(b.jsx)("input",{type:"file",onChange:function(e){return r.showFile(e)},accept:".xml,.kml"}),Object(b.jsx)("button",{title:"Valider",onClick:function(){r.state.filed?r.setState({loading:!0},(function(){r.range()})):alert("Veuillez choisir un fichier \xe0 convertir")},children:"Valider"}),Object(b.jsx)("div",{children:r.state.loading&&Object(b.jsx)(j.a,{color:"secondary"})}),Object(b.jsx)("div",{children:r.state.finale.map((function(e,t){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{children:r.convertDate(e.date)}),Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{}),r.state.keys.map((function(e,t){return Object(b.jsx)("th",{children:e},t)}))]})}),Object(b.jsx)("tbody",{children:r.state.finale[t].values.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.date.split("T")[1].slice(0,2)+"h"}),Object.values(e.values).map((function(e,t){return Object(b.jsx)("td",{children:e},t)}))]},t)}))})]})]},t)}))})]})},r.state={filed:!1,data:[],days:[],finale:[],keys:[],loading:!1},r}return Object(d.a)(n,[{key:"range",value:function(){var e=Object(o.a)(u.a.mark((function e(){var t,n,r=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,3e3)}));case 2:t=[],n=[],this.state.data.forEach((function(e){if(-1===t.indexOf(e.date.split("T")[0])){var n=e.date.split("T")[0];t.push(n)}})),this.setState({days:t},(function(){t.forEach((function(e){var t=r.state.data.filter((function(t){return t.date.split("T")[0]===e})),a={};a.date=e,a.values=t,n.push(a)})),r.setState({finale:n,keys:Object.keys(n[0].values[0].values),loading:!1},(function(){}))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"convertDate",value:function(e){var t=new Date(e).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return t.charAt(0).toUpperCase()+t.slice(1)}}]),n}(r.Component);var O=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(m,{})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(O,{})}),document.getElementById("root")),x()},70:function(e,t,n){},71:function(e,t,n){},88:function(e,t){},90:function(e,t){}},[[105,1,2]]]);
//# sourceMappingURL=main.2900d652.chunk.js.map